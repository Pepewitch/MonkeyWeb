extends htmlTemplate
block head
    - var pageTitle="Course Material Management"
    link(rel="stylesheet" href="/css/adminCourseMaterial.css")
    //- script(src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js")
    script(src="/js/adminCourseMaterial.js")
block header
    - var removeNavbarBottomMargin=true;
block body
    include generalTemplate
    include inputTemplate
    //- p= JSON.stringify(config)
    //- include: ../backend/node_modules/moment/src/moment.js
    mixin cell(status,numberOfSub,courseID,tutorNicknameEn,tutorEmail,courseName)
        if(status==null)
            td.info -
        else if(status=="accepted")
            td.success
                a(href="file:///"+config.courseMaterialPath+"CR"+config.year+"Q"+config.quarter+"/"+courseID+"/"+numberOfSub+"/")= "#"+numberOfSub
                code Accepted
                +cell-control(status,numberOfSub,courseID,tutorNicknameEn,tutorEmail,courseName)
        else if(status=="rejected")
            td.danger
                a(href="file:///"+config.courseMaterialPath+"CR"+config.year+"Q"+config.quarter+"/"+courseID+"/"+numberOfSub+"/")= "#"+numberOfSub
                code Rejected
                +cell-control(status,numberOfSub,courseID,tutorNicknameEn,tutorEmail,courseName)
        else if(status=="pending")
            td.warning
                a(href="file:///"+config.courseMaterialPath+"CR"+config.year+"Q"+config.quarter+"/"+courseID+"/"+numberOfSub+"/")= "#"+numberOfSub
                code Pending
                +cell-control(status,numberOfSub,courseID,tutorNicknameEn,tutorEmail,courseName)
    mixin cell-control(status,numberOfSub,courseID,tutorNicknameEn,tutorEmail,courseName)
        +form("post/judgeCourseMaterial")(tutorNicknameEn=tutorNicknameEn.toString() tutorEmail=tutorEmail.toString() courseName=courseName)
            input(name="courseID" type="hidden" value=courseID)
            input(name="numberOfSub" type="hidden" value=numberOfSub)
            .btn-group
                //- input.btn.btn-success.btn-xs(name="action" onclick="window.location=&quot;mailto:?subject=TO%20(name),PHS6x01%20ACCEPTED&quot;" type="submit" value="accept")
                input.btn.btn-success.btn-xs(name="action" type="submit" value="accept")
                input.btn.btn-danger.btn-xs(name="action" type="submit" value="reject")
                //- input.btn.btn-warning.btn-xs(name="action" type="submit" value="remove")
    //- - for(var i in course)
        div= JSON.stringify(course[i])
    +container-liquid.text-center
        .table-responsive
            table#tracking.table.table-bordered.table-hover-cell(style="margin:0px")
                thead
                    tr
                        - for(var i in course)
                            th.thead-tutor.text-center= course[i].tutorNicknameEn
                    tr
                        - for(var i in course)
                            th(class="thead-"+moment(course[i].day).format("ddd").toLowerCase()+" text-center")= moment(course[i].day).format("ddd").toUpperCase()
                    tr
                        - for(var i in course)
                            th.thead-time.text-center= moment(course[i].day).hour()+"-"+moment(course[i].day).add(2,"h").hour()
                    tr
                        - for(var i in course)
                            th.thead-course-name.text-center= course[i].courseName
                tbody
                    - for(var i=0;i<14;i++)
                        tr
                            - for(var j in course)
                                +cell(course[j].submission[i],i+1,course[j].courseID,course[j].tutorNicknameEn,course[j].tutorEmail,course[j].courseName)
    #message.container
