<!doctype html>
<html lang="en"><!-- InstanceBegin template="/Templates/AdminTemplate.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- InstanceBeginEditable name="doctitle" -->
    <title>Student Profile</title>
    <!-- InstanceEndEditable -->
<!-- InstanceBeginEditable name="head" -->
    <!-- InstanceEndEditable -->
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="css/w3.css" rel="stylesheet" type="text/css">
<link href="/css/style.min.css" rel="stylesheet" type="text/css">
<script src="js/jquery-1.11.3.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/global-1.0.0.custom.min.js" type="text/javascript"></script>
<script>
	checkLogin();
	checkValidUser(["tutor", "admin"]);
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js"></script>
<script src="/js/admin.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<!-- InstanceBeginEditable name="script" -->
    <script src="js/JsBarcode.code128.min.js" type="text/javascript"></script>
    <script>
        $(document).ready(getStudentProfile);
    </script>
    <!-- InstanceEndEditable -->
</head>
<body>
<nav class="navbar navbar-default">
  <div class="container-fluid"> 
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#defaultNavbar1"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
      <a class="navbar-brand" href="adminHome">Monkey</a></div>
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="defaultNavbar1">
      <ul class="nav navbar-nav">
        <li><a href="adminAllcourse">All Course<span class="sr-only">(current)</span></a></li>
        <li><a href="adminAllstudent">All Student<span class="sr-only">(current)</span></a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#" onClick="logout();"><span class="glyphicon glyphicon-log-out"></span>Log out</a></li>
      </ul>
    </div>
    <!-- /.navbar-collapse --> 
  </div>
  <!-- /.container-fluid --> 
</nav>
<div class="container-fluid"> <!-- InstanceBeginEditable name="body" -->
    <div class="col-md-5 col-md-offset-1">
  <h2 id="studentName">&nbsp;</h2>
  <h2 id="studentNameEng">&nbsp;</h2>
  <h3 id="studentLevel">&nbsp;</h3>
  <h4 id="studentID">&nbsp;</h4>
  <h5 id="studentState">&nbsp;</h5>
  <h5 id="studentStatus">&nbsp;</h5>
  <h5 id="email">&nbsp;</h5>
  <h5 id="phone">&nbsp;</h5>
  <h5 id="parentPhone">&nbsp;</h5>
  <!--    <h5 id="studentFHB">FHB: MJ-DB01a</h5>-->
  <button onClick="downloadCanvas(this.id);" class="btn btn-default" id="math">Download Math Table</button>
  <button onClick="downloadCanvas(this.id);" class="btn btn-default" id="phy">Download Physics Table</button>
  <br>
  <br>
</div>
    <div class="col-md-5" align="right"> <img id="imgTrans" src="images/noImage.svg" style="width: auto;max-height: 240px;"> </div>
    <div class="container-fluid">
  <div class="table-responsive col-md-10 col-md-offset-1">
        <table class="table table-bordered" id="courseTable">
      <thead>
            <tr>
          <th class="col-md-2"></th>
          <th class="col-md-2">TUE</th>
          <th class="col-md-2">THU</th>
          <th class="col-md-2">SAT</th>
          <th class="col-md-2">SUN</th>
        </tr>
          </thead>
      <tr>
            <td>8:00-10:00</td>
            <td><button type="button" class="btn btn-disable col-md-12" id="-169200000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-disable col-md-12" id="3600000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="176400000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="-342000000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
          </tr>
      <tr>
            <td>10:00-12:00</td>
            <td><button type="button" class="btn btn-disable col-md-12" id="-162000000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-disable col-md-12" id="10800000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="183600000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="-334800000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
          </tr>
      <tr>
            <td>13:00-15:00</td>
            <td><button type="button" class="btn btn-disable col-md-12" id="-151200000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-disable col-md-12" id="21600000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="194400000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="-324000000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
          </tr>
      <tr>
            <td>15:00-17:00</td>
            <td><button type="button" class="btn btn-disable col-md-12" id="-144000000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-disable col-md-12" id="28800000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="201600000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="-316800000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
          </tr>
      <tr>
            <td>17:00-19:00</td>
            <td><button type="button" class="btn btn-default col-md-12" id="-136800000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
            <td><button type="button" class="btn btn-default col-md-12" id="36000000"
                                onClick="addRemoveCourse(this.id);">Add Course</button></td>
            <td><button type="button" class="btn btn-disable col-md-12" id="208800000">&nbsp;</button></td>
            <td><button type="button" class="btn btn-disable col-md-12" id="-309600000">&nbsp;</button></td>
          </tr>
    </table>
      </div>
</div>
    <div class="col-md-1 col-md-offset-1">
  <button type="button" class="btn btn-info" onClick="editProfile()">EDIT</button>
</div>
    <div class="btn-group col-md-3 col-md-offset-6">
  <button type="button" class="btn btn-success" onClick="setRegistrationState('registered');">APPROVE</button>
  <button type="button" class="btn btn-warning" onClick="setRegistrationState('pending');">PENDING</button>
  <button type="button" class="btn btn-danger" onClick="setRegistrationState('rejected');">REJECTED</button>
</div>
    </div>
    <canvas id="mathCanvas" style="border:1px solid black" width="790" height="480" hidden="true"></canvas>
    <canvas id="phyCanvas" style="border:1px solid black" width="790" height="480" hidden="true"></canvas>
    <canvas id="mathBarcode" hidden="true"></canvas>
    <canvas id="phyBarcode" hidden="true"></canvas>
    <canvas id="combine" style="border:1px solid black" width="790" height="480" hidden="true"></canvas>
    <canvas id="appRej" style="border:1px solid black" width="560" height="380" hidden="true"></canvas>
    <script src="js/FileSaver.min.js" type="text/javascript"></script> 
    <script>
    function downloadCanvas(subj) {
		let sID = document.getElementById("studentID").innerHTML.slice(4, document.getElementById("studentID").innerHTML.length);
		combineCanvas(subj);
        let canvas = document.getElementById("combine"), ctx = canvas.getContext("2d");
        let dlImg=canvas.toDataURL();
        let aref=document.createElement('a');
        aref.href=dlImg;
        aref.download=sID+((subj === "math") ? "1" : "2")+'.png';
        document.body.appendChild(aref);
        aref.click();
    }
		function editProfile(){
			$("#editModal").modal();
		}
</script> 
    <!--   Modal for editProfile-->
    <div id="editModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
        <div class="modal-content">
      <div class="modal-header">
            <h1>Edit Profile</h1>
          </div>
      <div class="modal-body">
            <div class="form-group">
          <label>Name :</label>
          <input id="thNName" type="text" class="form-control col-md-2" placeholder="ชื่อเล่น">
          <input id="thName" type="text" class="form-control col-md-2" placeholder="ชื่อจริง">
          <input id="thSName" type="text" class="form-control col-md-2" placeholder="นามสกุล">
          <input id="enNName" type="text" class="form-control col-md-2" placeholder="Nickname">
          <input id="enName" type="text" class="form-control col-md-2" placeholder="Firstname">
          <input id="enSName" type="text" class="form-control col-md-2" placeholder="Surname">
        </div>
            <div class="form-group">
          <label>Level :</label>
          <select id="classStudent" class="form-control">
                <option value="1">ประถม 1</option>
                <option value="2">ประถม 2</option>
                <option value="3">ประถม 3</option>
                <option value="4">ประถม 4</option>
                <option value="5">ประถม 5</option>
                <option value="6">ประถม 6</option>
                <option value="7">มัธยม 1</option>
                <option value="8">มัธยม 2</option>
                <option value="9">มัธยม 3</option>
                <option value="10">มัธยม 4</option>
                <option value="11">มัธยม 5</option>
                <option value="12">มัธยม 6</option>
                <option value="13">SAT</option>
              </select>
        </div>
            <div class="form-group">
          <label>Stage :</label>
          <select id="stageStudent" class="form-control">
                <option value="unregistered">Unregister</option>
                <option value="untransferred">Untransfererd</option>
                <option value="transferred">Transferred</option>
                <option value="pending">Pending</option>
                <option value="rejected">Rejected</option>
                <option value="registered">Registered</option>
              </select>
<!--              Wait for post funnction-->
        </div>
<!--
            <div class="form-group">
          <label>Status :</label>
          <select id="statusStudent" class="form-control">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
                <option value="drop">Drop</option>
              </select>
        </div>
-->
            <div class="form-group">
          <label>E-mail :</label>
          <input id="emailStudent" type="text" class="form-control col-md-2" placeholder="Input e-mail">
        </div>
            <div class="form-group">
          <label>Phone :</label>
          <input id="telStudent" type="text" class="form-control col-md-2" placeholder="Input phone number">
        </div>
          </div>
      <div class="modal-footer">
            <div class="col-md-1">
          <button id="resetStudent" type="button" class="btn btn-danger">RESET</button>
        </div>
            <div>
          <button id="acceptStudentData" type="button" class="btn btn-success" onClick="editStudent();">CONFIRM</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">CANCEL</button>
        </div>
          </div>
    </div>
      </div>
</div>
    <!--  Modal for removeCourse-->
    <div id="removeModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
        <div class="modal-content">
      <div class="modal-header">
            <h1>Remove Course</h1>
          </div>
      <div class="modal-body">
            <h4>Are you sure to delete <span id="courseName"></span>&nbsp;?</h4>
          </div>
      <div class="modal-footer">
            <button type="button" class="btn btn-danger" id="confirmDelete" onClick="removeCourse();">Yes</button>
            <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
          </div>
    </div>
      </div>
</div>
    <!--  Modal for addCourse-->
    <div id="addModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
  <div class="modal-content">
        <div class="modal-header">
      <h1>Add Course</h1>
    </div>
        <div class="modal-body form-group">
          <select class="form-control" id="courseSelector">
          </select>
    </div>
        <div class="modal-footer">
      <button type="button" class="btn btn-primary" onClick="addCourse();">Confirm</button>
      <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
    </div>
      </div>
</div>
    <!-- InstanceEndEditable -->
</div>
<div class="container">
  <div class="row">
    <div class="text-center center-block">
      <h4>Monkey </h4>
      <p>Copyright &copy; 2017 &middot; All Rights Reserved</p>
    </div>
  </div>
</div>
</body>
<!-- InstanceEnd --></html>