'use strict';var cookie;$(document).ready(function(){deleteCookie('Hybrid'),cookie=getCookieDict(),cookie.courseID?cookie.courseID=JSON.parse(cookie.courseID):self.location='/registrationCourse';$('.sat,.sun,.thu,.tue').removeClass('disabled');$.post('post/allCourse',{quarter:quarter,year:year},function(b){for(var c in b.course)-1<cookie.courseID.indexOf(b.course[c].courseID)&&fillTable(b.course[c])})});function btntoggle(a){$(a).blur(),$(a).hasClass('btn-success')?$(a).removeClass('btn-success').addClass('btn-default'):($('.'+($(a).hasClass('sat')?'sat':$(a).hasClass('sun')?'sun':$(a).hasClass('thu')?'thu':$(a).hasClass('tue')?'tue':'')+'[name="'+a.name+'"]').removeClass('btn-success').addClass('btn-default'),!$(a).hasClass('disabled')&&$(a).removeClass('btn-default').addClass('btn-success'))}function fillTable(a){var b=new Date(a.day),c=$((6==b.getDay()?'.sat':'.sun')+'[name="'+b.getHours()+'"]').addClass('course').addClass('disabled').html(a.courseName+'('+a.tutorNicknameEn[0]+')');$(c[0]).removeClass('col-sm-6').addClass('col-sm-12'),$(c[1]).hide()}function next(){var a=['tue','thu','sat','sun'],b=[],c;0<$('.btn-success.sat,.btn-success.sun,.btn-success.tue,.btn-success.thu').length?$.post('post/v1/listHybridDayInQuarter',{quarter:quarter,year:year},function(d){for(var e=0;e<a.length;e++){c=$('.btn-success.'+a[e]);for(var f=0;f<c.length;f++)for(var g in d){var h=new Date(d[g].day);if(h.getHours()==parseInt(c[f].name)&&h.getDay()==daytoNum(a[e])){b.push(JSON.stringify({studentID:cookie.monkeyWebUser,day:moment(0).day(daytoNum(a[e])).hour(parseInt(c[f].name)).valueOf(),subject:$(c[f]).hasClass('M')?'M':'PH',hybridID:d[g].hybridID}));break}}}writeCookie('Hybrid',JSON.stringify(b)),self.location='/registrationSkill'}):self.location='/registrationSkill'}function daytoNum(a){return'sun'===a?0:'mon'===a?1:'tue'===a?2:'wed'===a?3:'thu'===a?4:'fri'===a?5:'sat'===a?6:void 0}