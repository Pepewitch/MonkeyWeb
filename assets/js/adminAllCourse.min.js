const getDateName=a=>{return["SUN","MON","TUE","WED","THU","FRI","SAT"][a]},getRoom=a=>{switch(a){case-1:return"-";break;case 0:return"HB";break;case 5:return"Glass";break;default:return a;}};$(document).ready(function(){let a=getCookieDict();getConfig().then(b=>{position(a.monkeyWebUser).then(c=>{let d="";switch(c.position){case"tutor":case"admin":d="protected";break;case"dev":d="private";}listQuarter(d).then(e=>{for(let f=0;f<e.quarter.length;f++)quarter.innerHTML+="<option value = '"+e.quarter[f].year+"-"+e.quarter[f].quarter+"'>"+e.quarter[f].name+"</option>";quarter.value=void 0===a.monkeyWebSelectedQuarter?b.defaultQuarter.quarter.year+"-"+b.defaultQuarter.quarter.quarter:a.monkeyWebSelectedQuarter,getAllCourseContent()})})})});function quarterChange(){var a=document.getElementById("quarter");writeCookie("monkeyWebSelectedQuarter",a.options[a.selectedIndex].value),getAllCourseContent()}function getAllCourseContent(){quarterVal=$("#quarter").val(),allCourseV1(quarterVal.slice(0,4),quarterVal.slice(5)).then(a=>{let b=filterCourseData(a);log(b),generateCourseHtmlTable(b)})}function filterCourseData(a){let b=document.getElementById("subject"),c=document.getElementById("grade"),d=document.getElementById("name"),e=document.getElementById("time"),f=document.getElementById("quarter"),g=getCookieDict();return"all"!==b.options[b.selectedIndex].value&&(a=a.filter(h=>h.courseName.slice(0,1)===b.options[b.selectedIndex].value)),"all"!==c.options[c.selectedIndex].value&&(a=a.filter(h=>-1!==h.grade.indexOf(parseInt(c.options[c.selectedIndex].value)))),"all"!==d.options[d.selectedIndex].value&&(a=a.filter(h=>-1!==h.tutorName.indexOf(d.options[d.selectedIndex].value))),"all"!==e.options[e.selectedIndex].value&&(a=a.filter(h=>h.day===parseInt(e.options[e.selectedIndex].value))),a}function generateCourseHtmlTable(a){let b=document.getElementById("allCourseTable");b.innerHTML="";for(let c=0;c<a.length;c++){let d=new Date(a[c].day),e=b.insertRow(c),f=e.insertCell(0),g=e.insertCell(1),h=e.insertCell(2),j=e.insertCell(3),k=e.insertCell(4),l=e.insertCell(5),m=e.insertCell(6);e.id=a[c].courseID,f.innerHTML="<td>"+(c+1)+"</td>",g.innerHTML="<td>"+a[c].courseName+"</td>",h.innerHTML="<td>"+getDateName(d.getDay())+"</td>",j.innerHTML="<td>"+d.getHours()+":00 - "+(d.getHours()+2)+":00</td>",k.innerHTML="<td>"+a[c].tutorName+"</td>",l.innerHTML="<td>"+a[c].studentCount+"</td>",m.innerHTML="<td>"+getRoom(a[c].room)+"</td>";e.onclick=(o=>()=>{writeCookie("monkeyWebAdminAllcourseSelectedCourseID",o.id),self.location="/adminCoursedescription"})(e),g.className+="text-center",h.className+="text-center",j.className+="text-center",k.className+="text-center",l.className+="text-center",m.className+="text-center"}}