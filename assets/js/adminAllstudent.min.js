var studentForSearch=[];const getDateName=a=>{return["SUN","MON","TUE","WED","THU","FRI","SAT"][a]};function getAllStudentContent(){"use strict";allStudent().then(a=>{if(a.err)log("[getAllStudentContent()] : post/allStudent => "+a.err);else{log("[getAllStudentContent()] : post/allStudent => "),log(a);for(let b=0;b<a.student.length;b++)studentForSearch.push({name:a.student[b].nickname+" "+a.student[b].firstname,id:a.student[b].studentID});log(studentForSearch),$(".typeahead").typeahead({source:studentForSearch,autoSelect:!0}),$(".typeahead").change(function(){let b=$(".typeahead").typeahead("getActive");b&&(log(b),writeCookie("monkeyWebAdminAllstudentSelectedUser",b.id),self.location="/adminStudentprofile")}),generateStudentHtmlTable(filterData(a.student))}})}function filterData(a){let b=document.getElementById("status"),c=document.getElementById("stage"),d=document.getElementById("grade"),e=document.getElementById("course");return"all"!==b.options[b.selectedIndex].value&&(a=a.filter(f=>f.status===b.options[b.selectedIndex].value)),"all"!==c.options[c.selectedIndex].value&&(a=a.filter(f=>f.registrationState===c.options[c.selectedIndex].value)),"all"!==d.options[d.selectedIndex].value&&(a=a.filter(f=>f.grade===parseInt(d.options[d.selectedIndex].value))),"all"!==e.options[e.selectedIndex].value&&(a=a.filter(f=>{switch(e.options[e.selectedIndex].value){case"hb":return f.inHybrid;case"cr":return f.inCourse;default:}})),a}function generateStudentHtmlTable(a){let b=document.getElementById("allStudentTable");b.innerHTML="";for(let c=0;c<a.length;c++){let d=b.insertRow(c),e=a[c].status,f=a[c].registrationState;"terminated"===e?d.setAttribute("class","danger"):"dropped"===e?d.setAttribute("class","warning"):"inactive"===e?d.setAttribute("class","info"):void 0;"finished"===f&&d.setAttribute("class","success");let g=d.insertCell(0),h=d.insertCell(1),j=d.insertCell(2),k=d.insertCell(3),l=d.insertCell(4),m=d.insertCell(5),n=d.insertCell(6);g.innerHTML="<td>"+(c+1)+"</td>",h.innerHTML="<td>"+a[c].studentID+"</td>",j.innerHTML="<td>"+a[c].nickname+"</td>",k.innerHTML="<td>"+a[c].firstname+"</td>",l.innerHTML="<td>"+a[c].lastname+"</td>",m.innerHTML="<td>"+(a[c].inCourse?"\u2714":"\u2716")+"</td>",n.innerHTML="<td>"+(a[c].inHybrid?"\u2714":"\u2716")+"</td>";d.onclick=(p=>()=>{writeCookie("monkeyWebAdminAllstudentSelectedUser",p.getElementsByTagName("td")[1].innerHTML),self.location="/adminStudentprofile"})(d)}}function scanStudentBarcode(){let a=document.getElementById("studentID");writeCookie("monkeyWebAdminAllstudentSelectedUser",a.value.substring(0,a.value.length-1)),self.location="/adminStudentprofile"}