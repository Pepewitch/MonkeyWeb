var cookie;$(document).ready(function(){deleteCookie("courseID"),cookie=getCookieDict(),$.post("/post/studentProfile",{studentID:parseInt(cookie.monkeyWebUser)}).then(a=>{if(a.err)throw alert("Cannot get data from server!\n Please refresh this page."),a.err;return $("#name").val(a.firstname+" ("+a.nickname+") "+a.lastname),$("#grade").val(6<a.grade?"\u0E21. "+(a.grade-6):"\u0E1B. "+a.grade),a}).then(a=>{$.post("/post/allCourse",{quarter:quarter,year:year},function(b){var c,d;for(let e in b.course)if(checkgrade(b.course[e].grade,a.grade)){c=new Date(b.course[e].day),d=$("button."+c.toDateString().split(" ")[0].toLowerCase()+"[name=\""+c.getHours()+"\"]");for(let f=0;f<d.length;f++)if($(d[f]).hasClass("disabled")){$(d[f]).removeClass("disabled"),b.course[e].description!=void 0&&$("#description").html($("#description").html()+b.course[e].courseName+"("+b.course[e].tutorNicknameEn[0]+") : "+b.course[e].description+"<br>"),$(d[f]).html(b.course[e].courseName+"("+b.course[e].tutorNicknameEn[0]+")<span style=\"display:none\">"+b.course[e].courseID+"</span>");break}}$.post("/post/listCourseSuggestion",{grade:a.grade},function(e){let f=$(".sat,.sun");console.log(e);for(let g=0;g<f.length;g++)for(let h in e.course)if(e.course[h].level==a.level)for(let l in e.course[h].courseID)$($(f[g]).children()[0]).html()==e.course[h].courseID[l]&&$(f[g]).addClass("suggest")})})})});function checkgrade(a,b){for(let c in a)if(a[c]==b)return!0;return!1}function btntoggle(a){$(a).blur(),$(a).hasClass("btn-success")?$(a).removeClass("btn-success").addClass("btn-default"):($("."+($(a).hasClass("sat")?"sat":$(a).hasClass("sun")?"sun":$(a).hasClass("thu")?"thu":$(a).hasClass("tue")?"tue":"")+"[name=\""+a.name+"\"]").removeClass("btn-success").addClass("btn-default"),!$(a).hasClass("disabled")&&$(a).removeClass("btn-default").addClass("btn-success")),$("#fee").html("\u0E23\u0E27\u0E21\u0E40\u0E1B\u0E47\u0E19\u0E40\u0E07\u0E34\u0E19 "+$(".sat.btn-success,.sun.btn-success").length*fee+" \u0E1A\u0E32\u0E17")}function next(){var a=$(".btn-success.sat,.btn-success.sun").children();if(1<a.length){var b=[];for(let c=0;c<a.length;c++)b.push($(a[c]).html());writeCookie("courseID",JSON.stringify(b)),self.location="/registrationHybrid"}else alert("\u0E04\u0E38\u0E13\u0E15\u0E49\u0E2D\u0E07\u0E25\u0E07\u0E17\u0E30\u0E40\u0E1A\u0E35\u0E22\u0E19\u0E2D\u0E22\u0E48\u0E32\u0E07\u0E19\u0E49\u0E2D\u0E22 2 \u0E04\u0E2D\u0E23\u0E4C\u0E2A")}