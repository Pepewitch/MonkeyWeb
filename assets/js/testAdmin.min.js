let initGlobalData=(()=>{var a=_asyncToGenerator(function*(){for(let f,e=1;13>e;e++)f=7>e?"P"+e:"S"+(e-6),$(".gradeSelect").append("<option value="+e+">"+f+"</option>");$(".subjectSelect").append("<option value='M'>Math</option><option value='P'>Physic</option><option value='C'>Chemistry</option><option value='E'>English</option><option value='Sci'>Science</option>");let[b,c,d]=yield Promise.all([getConfig(),listQuarter("private"),$.post("post/v1/listTutorJson")]);for(let e in log(b),log(c),log(d),c.quarter)$(".quarterSelect").prepend("<option value="+c.quarter[e].year+"-"+c.quarter[e].quarter+">"+c.quarter[e].name+"</option>");for(let e in d.tutors)$(".tutorSelect").append("<option value="+d.tutors[e].tutorID+">"+d.tutors[e].nicknameEn+"</option>")});return function(){return a.apply(this,arguments)}})();function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(c,d){function e(f,g){try{var h=b[f](g),j=h.value}catch(k){return void d(k)}return h.done?void c(j):Promise.resolve(j).then(function(k){e("next",k)},function(k){e("throw",k)})}return e("next")})}}const containClass=a=>{if(-1<a.className.indexOf("userNav"))return"user";return-1<a.className.indexOf("stdNav")?"std":-1<a.className.indexOf("crNav")?"cr":-1<a.className.indexOf("configNav")?"config":-1<a.className.indexOf("etcNav")?"etc":void 0};$(".myContent").hide(),$(".navigationIcon").hide(),$(".myNav").click(function(){$("#navigation").slideUp(),$(".navigationIcon").slideDown(),$("."+containClass(this)+"Content").slideDown()}),$("#globalBack").click(function(){$("#navigation").slideDown(),$(".navigationIcon").slideUp(),$(".myContent").slideUp()}),initGlobalData();const listAllCourse=()=>{let a=$("#allCourseQuarterSelect").val().slice(0,4),b=$("#allCourseQuarterSelect").val().slice(5);$.post("post/v1/allCourse",{year:a,quarter:b}).then(c=>{for(let d in $("#allCourseTableBody").empty(),c)$("#allCourseTableBody").append("<tr><td class='text-center'>"+c[d].courseID+"</td><td class='text-center'>"+c[d].courseName+"</td><td class='text-center'>"+moment(c[d].day).format("ddd H")+"</td><td class='text-center'>"+c[d].grade+"</td><td class='text-center'>"+c[d].room+"</td><td class='text-center'>"+c[d].studentCount+"</td><td class='text-center'>"+c[d].tutorName+"</td></tr>")})},listGradeCourse=()=>{let a=$("#gradeCourseQuarterSelect").val().slice(0,4),b=$("#gradeCourseQuarterSelect").val().slice(5);$.post("post/gradeCourse",{year:a,quarter:b,grade:$("#gradeCourseGradeSelect").val()}).then(c=>{$("#gradeCourseTableBody").empty();let d=c.course;for(let e in d)$("#gradeCourseTableBody").append("<tr><td class='text-center'>"+d[e].courseID+"</td><td class='text-center'>"+d[e].courseName+"</td><td class='text-center'>"+moment(d[e].day).format("ddd H")+"</td><td class='text-center'>"+d[e].description+"</td><td class='text-center'>"+d[e].tutor+"</td></tr>")})};$("#crInfoQuarterSelect").change(function(){"0"!==this.value&&$.post("post/v1/allCourse",{year:this.value.slice(0,4),quarter:this.value.slice(5)}).then(a=>{for(let b in $("#crInfoCourseSelect").empty(),a)$("#crInfoCourseSelect").append("<option value="+a[b].courseID+">"+a[b].courseName+"-"+a[b].tutorName+"</option>")})}),$("#crInfoCourseSelect").change(function(){0!==this.value&&$.post("post/courseInfo",{courseID:this.value}).then(a=>{$("#crInfoOutput").empty(),$("#crInfoOutput").append("<p class='mb-1 mt-3'>Course name: "+a.courseName+"</p><p class='mb-1'>Day: "+moment(a.day).format("ddd H")+"</p><p class='mb-1'>Description: "+a.description+"</p><p class='mb-1'>Level: "+a.level+"</p><p class='mb-1'>Room: "+a.room+"</p><p class='mb-1'>Student: "+a.student+"</p><p class='mb-1'>Tutor: "+a.tutor+"</p>")})});const addNewCourse=()=>{if(0>=$(".addCourseCheck:checked").length)alert("Please select at least 1 grade!");else if(0>=$("#addCourseLevel").val().length)alert("Please input course level!");else{let a=$("#addCourseQuarterSelect").val().slice(0,4),b=$("#addCourseQuarterSelect").val().slice(5),c=$("#addCourseSubjectSelect").val(),d=$(".addCourseCheck:checked").map(function(){return this.value}).get(),e=$("#addCourseLevel").val(),f=$("#addCourseDaySelect").val(),g=$("#addCourseTutorSelect").val(),h=$("#addCourseRoomSelect").val(),j=$("#addCourseDescription").val();$.post("post/addCourse",{year:a,quarter:b,subject:c,grade:d,level:e,day:f,tutor:[g],description:j,room:h}).then(k=>{log("OK => "+k),alert("Complete to add course.")})}};