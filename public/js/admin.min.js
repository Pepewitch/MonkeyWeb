const getDateName=a=>{return["SUN","MON","TUE","WED","THU","FRI","SAT"][a]},getDateFullName=a=>{return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a]},getLetterGrade=a=>{return 6>=a?"P"+a:"S"+(a-6)};function getAllStudentContent(){"use strict";allStudent().then(a=>{a.err?log("[getAllStudentContent()] : post/allStudent => "+a.err):(log("[getAllStudentContent()] : post/allStudent => "),log(a),generateStudentHtmlTable(filterData(a.student)))})}function filterData(a){let b=document.getElementById("status"),c=document.getElementById("stage"),d=document.getElementById("grade"),e=document.getElementById("course");return"all"!==b.options[b.selectedIndex].value&&(a=a.filter(f=>f.status===b.options[b.selectedIndex].value)),"all"!==c.options[c.selectedIndex].value&&(a=a.filter(f=>f.registrationState===c.options[c.selectedIndex].value)),"all"!==d.options[d.selectedIndex].value&&(a=a.filter(f=>f.grade===parseInt(d.options[d.selectedIndex].value))),"all"!==e.options[e.selectedIndex].value&&(a=a.filter(f=>{switch(e.options[e.selectedIndex].value){case"hb":return f.inHybrid;case"cr":return f.inCourse;default:}})),a}function generateStudentHtmlTable(a){let b=document.getElementById("allStudentTable");b.innerHTML="";for(let c=0;c<a.length;c++){let d=b.insertRow(c),e=a[c].status,f=a[c].registrationState;"terminated"===e?d.setAttribute("class","danger"):"dropped"===e?d.setAttribute("class","warning"):"inactive"===e?d.setAttribute("class","info"):void 0;"finished"===f&&d.setAttribute("class","success");let g=d.insertCell(0),h=d.insertCell(1),k=d.insertCell(2),l=d.insertCell(3),m=d.insertCell(4),n=d.insertCell(5),o=d.insertCell(6);g.innerHTML="<td>"+(c+1)+"</td>",h.innerHTML="<td>"+a[c].studentID+"</td>",k.innerHTML="<td>"+a[c].nickname+"</td>",l.innerHTML="<td>"+a[c].firstname+"</td>",m.innerHTML="<td>"+a[c].lastname+"</td>",n.innerHTML="<td>"+(a[c].inCourse?"\u2714":"\u2716")+"</td>",o.innerHTML="<td>"+(a[c].inHybrid?"\u2714":"\u2716")+"</td>";d.onclick=(q=>()=>{writeCookie("monkeyWebAdminAllstudentSelectedUser",q.getElementsByTagName("td")[1].innerHTML),self.location="/adminStudentprofile"})(d)}}function getAllCourseContent(){allCourse().then(a=>{a.err?log("[getAllCourseContent()] : post/allCourse => "+a.err):(log("[getAllCourseContent()] : post/allCourse => "),log(a),generateCourseHtmlTable(filterCourseData(a.course)))})}function filterCourseData(a){let b=document.getElementById("subject"),c=document.getElementById("grade"),d=document.getElementById("name"),e=document.getElementById("time");return"all"!==b.options[b.selectedIndex].value&&(a=a.filter(f=>f.subject===b.options[b.selectedIndex].value)),"all"!==c.options[c.selectedIndex].value&&(a=a.filter(f=>-1!==f.grade.indexOf(parseInt(c.options[c.selectedIndex].value)))),"all"!==d.options[d.selectedIndex].value&&(a=a.filter(f=>-1!==f.tutor.indexOf(parseInt(d.options[d.selectedIndex].value)))),"all"!==e.options[e.selectedIndex].value&&(a=a.filter(f=>f.day===parseInt(e.options[e.selectedIndex].value))),a}function generateCourseHtmlTable(a){let b=document.getElementById("allCourseTable");b.innerHTML="";for(let c=0;c<a.length;c++){let d=new Date(a[c].day),e=b.insertRow(c),f=e.insertCell(0),g=e.insertCell(1),h=e.insertCell(2),k=e.insertCell(3),l=e.insertCell(4);e.id=a[c].courseID,f.innerHTML="<td>"+(c+1)+"</td>",g.innerHTML="<td>"+a[c].courseName+"</td>",h.innerHTML="<td>"+getDateName(d.getDay())+"</td>",k.innerHTML="<td>"+d.getHours()+":00 - "+(d.getHours()+2)+":00</td>",name(a[c].tutor[0]).then(n=>{l.innerHTML="<td>"+n.nicknameEn+"</td>"});e.onclick=(n=>()=>{writeCookie("monkeyWebAdminAllcourseSelectedCourseID",n.id),self.location="/adminCoursedescription"})(e)}}function getStudentProfile(){let a=getCookieDict(),b=a.monkeyWebAdminAllstudentSelectedUser;document.getElementById("studentID").innerHTML="ID: "+b,studentProfile(b).then(c=>{return log("[getStudentProfile()] : post/studentProfile => "),log(c),document.getElementById("studentName").innerHTML=c.firstname+" ("+c.nickname+") "+c.lastname,document.getElementById("studentNameEng").innerHTML=c.firstnameEn+" ("+c.nicknameEn+") "+c.lastnameEn,document.getElementById("studentLevel").innerHTML="Grade: "+getLetterGrade(c.grade),document.getElementById("email").innerHTML="e-mail: "+c.email,document.getElementById("phone").innerHTML="phone: "+c.phone,document.getElementById("studentState").innerHTML="STAGE: "+c.registrationState,document.getElementById("studentStatus").innerHTML="STATUS: "+c.status,document.getElementById("thNName").value=c.nickname,document.getElementById("thName").value=c.firstname,document.getElementById("thSName").value=c.lastname,document.getElementById("enNName").value=c.nicknameEn,document.getElementById("enName").value=c.firstnameEn,document.getElementById("enSName").value=c.lastnameEn,document.getElementById("classStudent").value=c.grade,document.getElementById("stageStudent").value=c.registrationState,document.getElementById("statusStudent").value=c.status,document.getElementById("emailStudent").value=c.email,document.getElementById("telStudent").value=c.phone,c}).then(c=>{for(let f=0;f<c.courseID.length;f++)courseInfo(c.courseID[f]).then(g=>{if(g.err)log("[getStudentProfile()] : post/courseInfo => "+g.err);else{log("[getCourseDescription()] : post/courseInfo => "),log(g);let h=new Date(g.day),k=moment(0).day(h.getDay()).hour(h.getHours()).minute(h.getMinutes()).valueOf();document.getElementById(k).innerHTML=g.courseName,document.getElementById(k).value=c.courseID[f],document.getElementById(k).className="btn btn-warning col-md-12",name(g.tutor[0]).then(l=>{document.getElementById(k).innerHTML+=" - "+l.nicknameEn})}});log("[getStudentProfile()] All registered course => "),log(c.courseID);let d=c.hybridDay;for(let f=0;f<d.length;f++)document.getElementById(d[f].day).innerHTML="M"===d[f].subject?"FHB : M":"FHB : PH",document.getElementById(d[f].day).className="btn btn-primary col-md-12";let e=c.skillDay;for(let f=0;f<e.length;f++){let g=new Date(e[f].day),h=new Date(e[f].day);30===g.getMinutes()&&g.setMinutes(0),(9===g.getHours()||11===g.getHours()||14===g.getHours()||16===g.getHours())&&g.setHours(g.getHours()-1),log(g.getTime()),document.getElementById(""+g.getTime()).innerHTML="SKILL "+h.getHours()+":"+(0===h.getMinutes()?"00":"30"),document.getElementById(""+g.getTime()).className="btn btn-info col-md-12"}generateImageData()})}function generateImageData(){let a=!1,b=!1,c=parseInt(document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length)),d={id:""+c},e={},f={},g={};studentProfile(c).then(h=>{d.firstname=h.firstname,d.lastname=h.lastname,d.nickname=h.nickname,d.grade=""+h.grade;for(let k=0;k<h.skillDay.length;k++){let l=new Date(h.skillDay[k].day),m=l.getHours();(9===m||11===m||14===m||16===m)&&--m,e[getDateName(l.getDay())+m]={},e[getDateName(l.getDay())+m].courseName="SKILL "+l.getHours()+":"+(0===l.getMinutes()?"00":"30"),e[getDateName(l.getDay())+m].tutor=" "}for(let l,k=0;k<h.hybridDay.length;k++)l=new Date(h.hybridDay[k].day),e[getDateName(l.getDay())+l.getHours()]={},e[getDateName(l.getDay())+l.getHours()].courseName="M"===h.hybridDay[k].subject?"FHB : M":"FHB : PH",e[getDateName(l.getDay())+l.getHours()].tutor="Hybrid","M"===h.hybridDay[k].subject?(f[getDateName(l.getDay())+l.getHours()]="HB",a=!0):(g[getDateName(l.getDay())+l.getHours()]="HB",b=!0);return d.mathMiniTable=f,d.physicsMiniTable=g,h.courseID}).then(h=>{let k=[];for(let l=0;l<h.length;l++)k.push(courseInfo(h[l]));Promise.all(k).then(l=>{let m=[],n=[];for(let p,o=0;o<l.length;o++){p=l[o],n.push(p);let q=new Date(p.day);e[getDateName(q.getDay())+q.getHours()]={},e[getDateName(q.getDay())+q.getHours()].courseName="CR : "+p.courseName,99000===p.tutor[0]&&("M"===p.courseName[0]?(f[getDateName(q.getDay())+q.getHours()]="CR",a=!0):(g[getDateName(q.getDay())+q.getHours()]="CR",b=!0)),m.push(name(p.tutor[0]))}Promise.all(m).then(o=>{log(o.length);for(let p=0;p<o.length;p++){let q=o[p],r=new Date(n[p].day);e[getDateName(r.getDay())+r.getHours()].tutor=q.nicknameEn}}).then(()=>{d.mainTable=e,d.inMath=a,d.inPhy=b,log("[generateImageData()] : Generated info => "),log(d),barcode(d),d.inPhy&&d.inMath?($("#phyImg").attr("src","images/mp"+(6<d.grade?"h":"j")+".png"),$("#phy").attr("class","btn btn-default"),$("#phy").prop("disabled",!1),generateCover(d,"phy"),$("#mathImg").attr("src","images/mp"+(6<d.grade?"h":"j")+".png"),$("#math").attr("class","btn btn-default"),$("#math").prop("disabled",!1),generateCover(d,"math")):d.inPhy?($("#phyImg").attr("src","images/p"+(6<d.grade?"h":"j")+".png"),$("#phy").attr("class","btn btn-default"),$("#phy").prop("disabled",!1),generateCover(d,"phy")):d.inMath&&($("#mathImg").attr("src","images/m"+(6<d.grade?"h":"j")+".png"),$("#math").attr("class","btn btn-default"),$("#math").prop("disabled",!1),generateCover(d,"math"))})})})}function setRegistrationState(a){let b=parseInt(document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length));changeRegistrationState(b,a).then(c=>{c.err?log("[setRegistrationState()] : post/changeRegistrationState => "+c.err):(("registered"===a||"pending"===a)&&acceptReject(a),log("[setRegistrationState()] : post/changeRegistrationState => Success"))})}function getCourseDescription(){let a=getCookieDict(),b=a.monkeyWebAdminAllcourseSelectedCourseID;courseInfo(b).then(c=>{if(c.err)log("[getCourseDescription()] : post/courseInfo => "+c.err);else{log("[getCourseDescription()] : post/courseInfo => "),log(c),document.getElementById("courseName").innerHTML=c.courseName,name(c.tutor[0]).then(e=>{document.getElementById("tutorName").innerHTML="Tutor : "+e.nicknameEn});let d=new Date(c.day);return document.getElementById("day").innerHTML="Day : "+getDateFullName(d.getDay()),document.getElementById("time").innerHTML=d.getHours()+":00 - "+(d.getHours()+2)+":00",document.getElementById("courseID").innerHTML=b,c.student}}).then(c=>{let d=document.getElementById("allStudentInCourseTable");for(let e=0;e<c.length;e++){let f=d.insertRow(e),g=f.insertCell(0),h=f.insertCell(1),k=f.insertCell(2),l=f.insertCell(3),m=f.insertCell(4);g.innerHTML="<td>"+(e+1)+"</td>",h.innerHTML="<td>"+c[e]+"</td>",name(c[e]).then(o=>{k.innerHTML="<td>"+o.nickname+"</td>",l.innerHTML="<td>"+o.firstname+"</td>",m.innerHTML="<td>"+o.lastname+"</td>"});f.onclick=(o=>()=>{writeCookie("monkeyWebAdminAllstudentSelectedUser",o.getElementsByTagName("td")[1].innerHTML),self.location="/adminStudentprofile"})(f)}})}function addRemoveCourse(a){let b=document.getElementById(a);"Add Course"===b.innerHTML?allCourse().then(c=>{if(log(c),c.err)log("[addRemoveCourse()] : post/allCourse => "+c.err);else{let d=new Date(parseInt(a)),e=moment(0).day(0===d.getDay()?7:d.getDay()).hour(d.getHours()).valueOf();c.course=c.course.filter(k=>k.day===parseInt(e)),log("[addRemoveCourse()] : data.filter() => "),log(c);let f=document.getElementById("courseSelector");f.value=a,f.innerHTML="";let g=new Date(parseInt(a));if(f.innerHTML+="<option id='"+g.getTime()+"'>FHB : M</option>",f.innerHTML+="<option id='"+g.getTime()+"'>FHB : PH</option>",2!==g.getDay()&&4!==g.getDay())for(let k=0;4>k;k++)f.innerHTML+="<option id='"+g.getTime()+"'>SKILL "+g.getHours()+(0==k%2?":00":":30")+"</option>",g.setMinutes(g.getMinutes()+30);let h=[];for(let k=0;k<c.course.length;k++){let l=c.course[k],m="";m=6<l.grade[0]?"S"+l.grade.map(n=>n-6).join(""):"P"+l.grade.join(""),h.push(name(l.tutor[0]))}Promise.all(h).then(k=>{for(let m,l=0;l<c.course.length;l++)m="",m=6<c.course[l].grade[0]?"S"+c.course[l].grade.map(n=>n-6).join(""):"P"+c.course[l].grade.join(""),f.innerHTML+="<option id='"+c.course[l].courseID+"'>"+c.course[l].subject+m+c.course[l].level+" - "+k[l].nicknameEn+"</option>";$("#addModal").modal()})}}):(document.getElementById("confirmDelete").value=b.value,document.getElementById("courseName").innerHTML=b.innerHTML,document.getElementById("removeModal").value=a,$("#removeModal").modal())}function addCourse(){let a=document.getElementById("courseSelector"),b=parseInt(document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length)),c=a.options[a.selectedIndex],d=c.value;if("SKILL"===d.slice(0,5))addSkillDay(b,c.id).then(e=>{e.err?log("[addCourse()] : post/addSkillDay => "+e.err):(log("[addCourse()] : post/addSkillDay => Success"),location.reload())});else if("FHB"===d.slice(0,3))addHybridDay(b,"M"===d[d.length-1]?"M":"PH",c.id).then(e=>{e.err?log("[addCourse()] : post/addHybridDay => "+e.err):(log("[addCourse()] : post/addHybridDay => Success"),location.reload())});else{let e=c.id;addStudentCourse(b,[e]).then(f=>{f.err?log("[addCourse()] : post/addStudentCourse => "+f.err):(log("[addCourse()] : post/addStudentCourse => Success"),location.reload())})}}function removeCourse(){let a=document.getElementById("confirmDelete"),b=parseInt(document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length)),c=a.value,d=document.getElementById("courseName").innerHTML,e=parseInt(document.getElementById("removeModal").value);if("SKILL"===d.slice(0,5)){let f=new Date(e);f.setMinutes(parseInt(d.slice(d.indexOf(":")+1))),f.setHours(parseInt(d.slice(d.indexOf(" ")+1,d.indexOf(":")))),removeSkillDay(b,f.getTime()).then(g=>{g.err?log("[addCourse()] : post/removeSkillDay => "+g.err):(log("[addCourse()] : post/removeSkillDay => Success"),location.reload())})}else"FHB"===d.slice(0,3)?removeHybridDay(b,e).then(f=>{f.err?log("[addCourse()] : post/removeHybridDay => "+f.err):(log("[addCourse()] : post/removeHybridDay => Success"),location.reload())}):removeStudentCourse(b,[c]).then(f=>{f.err?log("[RemoveCourse()] : post/removeStudentCourse => "+f.err):(log("[RemoveCourse()] : post/removeStudentCourse => Success"),location.reload())})}function editStudent(){let a=parseInt(document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length)),b=(k,l)=>$.post("post/changeStatus",{userID:k,status:l}),c=document.getElementById("classStudent"),d=parseInt(c.options[c.selectedIndex].value),e=document.getElementById("stageStudent"),f=e.options[e.selectedIndex].value,g=document.getElementById("statusStudent"),h=g.options[g.selectedIndex].value;$.post("post/editStudent",{studentID:a,firstname:document.getElementById("thName").value,lastname:document.getElementById("thSName").value,nickname:document.getElementById("thNName").value,firstnameEn:document.getElementById("enName").value,lastnameEn:document.getElementById("enSName").value,nicknameEn:document.getElementById("enNName").value,email:document.getElementById("emailStudent").value,phone:document.getElementById("telStudent").value,grade:d}).then(()=>{return changeRegistrationState(a,f)}).then(()=>{b(a,h).then(()=>{location.reload()})})}function showProfilePic(){let a=document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length);$.post("post/getConfig").then(b=>{$.get(b.profilePicturePath.slice(b.profilePicturePath.search("monkeyWebData"))+a+".jpg",function(c,d){"success"===d&&$("#profilePic").attr("src",b.profilePicturePath.slice(b.profilePicturePath.search("monkeyWebData"))+a+".jpg")}),$.get(b.profilePicturePath.slice(b.profilePicturePath.search("monkeyWebData"))+a+".jpeg",function(c,d){"success"===d&&$("#profilePic").attr("src",b.profilePicturePath.slice(b.profilePicturePath.search("monkeyWebData"))+a+".jpeg")}),$.get(b.profilePicturePath.slice(b.profilePicturePath.search("monkeyWebData"))+a+".png",function(c,d){"success"===d&&$("#profilePic").attr("src",b.profilePicturePath.slice(b.profilePicturePath.search("monkeyWebData"))+a+".png")})})}function showReceipt(){let a=document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length);$.post("post/getConfig").then(b=>{$.get(b.receiptPath.slice(b.receiptPath.search("monkeyWebData"))+"CR60Q3/"+a+".jpg",function(c,d){"success"===d&&$("#imgTrans").attr("src",b.receiptPath.slice(b.receiptPath.search("monkeyWebData"))+"CR60Q3/"+a+".jpg")}),$.get(b.receiptPath.slice(b.receiptPath.search("monkeyWebData"))+"CR60Q3/"+a+".jpeg",function(c,d){"success"===d&&$("#imgTrans").attr("src",b.receiptPath.slice(b.receiptPath.search("monkeyWebData"))+"CR60Q3/"+a+".jpeg")}),$.get(b.receiptPath.slice(b.receiptPath.search("monkeyWebData"))+"CR60Q3/"+a+".png",function(c,d){"success"===d&&$("#imgTrans").attr("src",b.receiptPath.slice(b.receiptPath.search("monkeyWebData"))+"CR60Q3/"+a+".png")})})}function barcode(a){const b=a.id;JsBarcode("#mathBarcode",b+"1",{lineColor:"black",width:3.4,height:68,displayValue:!1}),JsBarcode("#phyBarcode",b+"2",{lineColor:"black",width:3.4,height:68,displayValue:!1})}function acceptReject(a){let b=document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length),c=document.getElementById("appRej"),d=c.getContext("2d"),e=document.getElementById("mathCanvas"),f=document.getElementById("imgTrans");d.fillStyle="white",d.fillRect(0,0,c.width,c.height),"pending"===a?(d.save(),d.drawImage(e,0,-100),d.drawImage(f,90,70,220,165),d.rotate(11*Math.PI/6),d.font="bold 55px Cordia New",d.fillStyle="orange",d.textAlign="center",d.fillText("Pending \u0E01\u0E23\u0E38\u0E13\u0E32\u0E15\u0E34\u0E14\u0E15\u0E48\u0E2D\u0E04\u0E23\u0E39\u0E41\u0E21\u0E27",150,340),d.restore()):"registered"==a&&(d.save(),d.drawImage(e,0,-100),d.drawImage(f,90,70,220,165),d.rotate(11*Math.PI/6),d.font="bold 90px Cordia New",d.fillStyle="green",d.textAlign="center",d.fillText("Approved",150,340),d.restore());let g=c.toDataURL(),h=document.createElement("a");h.href=g,h.download=b+a+".png",document.body.appendChild(h),h.click()}function upPic(){let a=document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length),b=$("#file-1"),c=b.val().split(".").pop().toLowerCase();if(-1===$.inArray(c,["png","jpg","jpeg"]))alert("\u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E31\u0E1E\u0E44\u0E1F\u0E25\u0E4C .jpg, .jpeg \u0E2B\u0E23\u0E37\u0E2D .png \u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19");else{let d=b.get(0).files,e=new FormData;e.append("file",d[0],d[0].name),e.append("userID",a),$.ajax({url:"post/updateProfilePicture",type:"POST",data:e,processData:!1,contentType:!1,success:function(){showProfilePic(),$("#profileModal").modal("hide")}})}}function upReciept(){let a=document.getElementById("studentID").innerHTML.slice(4,document.getElementById("studentID").innerHTML.length),b=$("#file-2"),c=b.val().split(".").pop().toLowerCase();if(-1===$.inArray(c,["png","jpg","jpeg"]))alert("\u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E31\u0E1E\u0E44\u0E1F\u0E25\u0E4C .jpg, .jpeg \u0E2B\u0E23\u0E37\u0E2D .png \u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19");else{let d=b.get(0).files,e=new FormData;e.append("file",d[0],d[0].name),e.append("studentID",a),$.ajax({url:"post/submitReceipt",type:"POST",data:e,processData:!1,contentType:!1,success:function(){$("#rcModal").modal("hide")}})}}function generateCover(a,b){let e=document.getElementById(b+"Canvas"),f=e.getContext("2d"),g=document.getElementById(b+"Img");f.drawImage(g,0,0,1654,1170),f.font="100px Oxygen",f.fillText(["P1","P2","P3","P4","P5","P6","S1","S2","S3","S4","S5","S6","SAT"][a.grade-1],50,128);let h=document.getElementById(b+"Barcode");f.drawImage(h,418,115);let k=document.getElementById("profilePic"),l=184,m=k.width*l/k.height;f.drawImage(k,205,30,m,l),f.font="bold 40px Taviraj","math"===b?f.fillText("ID: "+a.id+"1",445,84):f.fillText("ID: "+a.id+"2",445,84);let n=18<(a.firstname+a.nickname).length?a.firstname:a.firstname+" ("+a.nickname+")",o=18<(a.firstname+a.nickname).length?"("+a.nickname+") "+a.lastname:a.lastname;f.font="bold 52px Trirong",f.textAlign="center",f.fillText(n,930,94),f.fillText(o,930,174),f.textBaseline="middle";const p=["TUE","THU","SAT","SUN"],q=["8","10","13","15","17"],r=[1342,1420,1498,1576],s=[144,218,292,366,440],t=[324,568,812,1056],u=[386,514,642,770,898],v=[448,576,704,832,960];for(let w=0;4>w;w++)for(let y=0;5>y;y++){f.font="bold 28px Taviraj","math"===b?a.mathMiniTable[p[w]+q[y]]!==void 0&&f.fillText(a.mathMiniTable[p[w]+q[y]],r[w],s[y]):a.physicsMiniTable[p[w]+q[y]]!==void 0&&f.fillText(a.physicsMiniTable[p[w]+q[y]],r[w],s[y]),f.font="bold 36px Taviraj";let z=p[w]+q[y];if(a.mainTable[z]!==void 0){let A=Object.values(a.mainTable[z])[0];A=A.replace("PH","Ph"),A=A.replace("CH","Ch"),A=A.replace("SCI","Sci"),f.fillText(A,t[w],u[y]),"Hybrid"===Object.values(a.mainTable[z])[1]?f.fillText("HB",t[w],v[y]):f.fillText(Object.values(a.mainTable[z])[1],t[w],v[y])}}}