$(document).ready(function(){genTable(),updateTable();var a=getCookieDict();switch(a.regisCourse=JSON.parse(a.regisCourse),a.regisHybrid=JSON.parse(a.regisHybrid),parseInt(a.skillSel)){case 1:$('#math,#eng').show();break;case 2:$('#math').show(),$('#eng').hide(),$('#skilltimeEng').val('0');break;case 3:$('#math').hide(),$('#eng').show(),$('#skilltime').val('0');break;case 4:$('#math,#eng').hide(),$('#skilltimeEng').val('0'),$('#skilltime').val('0');}var b='';for(let f in a.regisCourse)if(!1!==a.regisCourse[f]&&(a.regisCourse[f].day=new Date(a.regisCourse[f].day),99000===a.regisCourse[f].tutor[0]&&(a.regisCourse[f].courseName+='(HB)'),a.regisCourse[f].select&&(b+=numtoDay(a.regisCourse[f].day.getDay())+' '+a.regisCourse[f].day.getHours()+'.00-'+(a.regisCourse[f].day.getHours()+2)+'.00 \u0E19. : '+a.regisCourse[f].courseName+'<br>'),6===a.regisCourse[f].day.getDay()&&!0===a.regisCourse[f].select)){var c=a.regisCourse[f].day.getHours();for(j=-1;4>j;j++){var d=10*c+5*j;$('#skilltime').find('option[value='+d+']').parent().is('span')||$('#skilltime,#skilltimeEng').find('option[value='+d+']').wrap('<span>')}}$('#cr').html(b);var e='';for(let f in a.regisHybrid)if(!1!==a.regisHybrid[f]&&(a.regisHybrid[f].day=new Date(a.regisHybrid[f].day),e+=numtoDay(a.regisHybrid[f].day.getDay())+' '+a.regisHybrid[f].day.getHours()+'.00-'+(a.regisHybrid[f].day.getHours()+2)+'.00 \u0E19. : '+fullHBname(a.regisHybrid[f].subject)+'<br>',6===a.regisHybrid[f].day.getDay())){var c=a.regisHybrid[f].day.getHours();for(j=-1;4>j;j++){var d=10*c+5*j;$('#skilltime').find('option[value='+d+']').parent().is('span')||$('#skilltime,#skilltimeEng').find('option[value='+d+']').wrap('<span>')}}$('#hb').html(e),$('#skillday').change(function(){var f=['90','95','100','105','110','130','135','140','145','150'];for(let l=0;l<f.length;l++)$('#skilltime').find('option[value='+f[l]+']').parent().is('span')&&$('#skilltime').find('option[value='+f[l]+']').unwrap();var g=getCookieDict();for(let l in g.regisCourse=JSON.parse(g.regisCourse),g.regisHybrid=JSON.parse(g.regisHybrid),g.regisCourse)if(!1!==g.regisCourse[l]&&(g.regisCourse[l].day=new Date(g.regisCourse[l].day),g.regisCourse[l].day.getDay()===daytoNum($('#skillday').val())&&!0===g.regisCourse[l].select)){var f=g.regisCourse[l].day.getHours();for(let m=-1;4>m;m++){var h=10*f+5*m;$('#skilltime').find('option[value='+h+']').parent().is('span')||$('#skilltime').find('option[value='+h+']').wrap('<span>')}}for(let l in g.regisHybrid)if(!1!==g.regisHybrid[l]&&(g.regisHybrid[l].day=new Date(g.regisHybrid[l].day),g.regisHybrid[l].day.getDay()===daytoNum($('#skillday').val()))){var f=g.regisHybrid[l].day.getHours();for(let m=-1;4>m;m++){var h=10*f+5*m;$('#skilltime').find('option[value='+h+']').parent().is('span')||$('#skilltime').find('option[value='+h+']').wrap('<span>')}}}),$('#skilldayEng').change(function(){var f=['90','95','100','105','110','130','135','140','145','150'];for(let l=0;l<f.length;l++)$('#skilltimeEng').find('option[value='+f[l]+']').parent().is('span')&&$('#skilltimeEng').find('option[value='+f[l]+']').unwrap();var g=getCookieDict();for(let l in g.regisCourse=JSON.parse(g.regisCourse),g.regisHybrid=JSON.parse(g.regisHybrid),g.regisCourse)if(!1!==g.regisCourse[l]&&(g.regisCourse[l].day=new Date(g.regisCourse[l].day),g.regisCourse[l].day.getDay()===daytoNum($('#skilldayEng').val())&&!0===g.regisCourse[l].select)){var f=g.regisCourse[l].day.getHours();for(let m=-1;4>m;m++){var h=10*f+5*m;$('#skilltimeEng').find('option[value='+h+']').parent().is('span')||$('#skilltimeEng').find('option[value='+h+']').wrap('<span>')}}for(let l in g.regisHybrid)if(!1!==g.regisHybrid[l]&&(g.regisHybrid[l].day=new Date(g.regisHybrid[l].day),g.regisHybrid[l].day.getDay()===daytoNum($('#skilldayEng').val()))){var f=g.regisHybrid[l].day.getHours();for(let m=-1;4>m;m++){var h=10*f+5*m;$('#skilltimeEng').find('option[value='+h+']').parent().is('span')||$('#skilltimeEng').find('option[value='+h+']').wrap('<span>')}}}),$('#station').change(function(){genTable(),updateTable(),'2'===$(this).val()?($('#skilltime').val('0'),document.getElementById('skillday').disabled=!0,document.getElementById('skillday').style='visibility:hidden',document.getElementById('skilltime').disabled=!0,document.getElementById('skilltime').style='visibility:hidden',document.getElementById('skilltime').value='0'):(document.getElementById('skillday').disabled=!1,document.getElementById('skillday').style='',document.getElementById('skilltime').disabled=!1,document.getElementById('skilltime').style='')}),$('#stationEng').change(function(){genTable(),updateTable(),'2'===$(this).val()?($('#skilltime').val('0'),document.getElementById('skilldayEng').disabled=!0,document.getElementById('skilldayEng').style='visibility:hidden',document.getElementById('skilltimeEng').disabled=!0,document.getElementById('skilltimeEng').style='visibility:hidden',document.getElementById('skilltimeEng').value='0'):(document.getElementById('skilldayEng').disabled=!1,document.getElementById('skilldayEng').style='',document.getElementById('skilltimeEng').disabled=!1,document.getElementById('skilltimeEng').style='')}),$('#skilltime,#skilltimeEng,#skillday,#skilldayEng').change(function(){genTable(),updateTable()})});function genTable(){var a=document.getElementsByClassName('disabled');for(let c=0;c<a.length;c++){var b='';for(let d=0;6>d;d++)b+=a[c].className.split(' ')[d]+' ';a[c].className=b,a[c].innerHTML='&nbsp;<br>&nbsp;'}}function updateTable(){var a=getCookieDict();for(let m in a.regisCourse=JSON.parse(a.regisCourse),a.regisHybrid=JSON.parse(a.regisHybrid),a.regisCourse)if(!1!==a.regisCourse[m]){a.regisCourse[m].day=new Date(a.regisCourse[m].day),99000===a.regisCourse[m].tutor[0]&&(a.regisCourse[m].courseName+='(HB)');var b;if(6===a.regisCourse[m].day.getDay()&&!0===a.regisCourse[m].select){b=document.getElementsByClassName('btn-sat '+a.regisCourse[m].day.getHours()+'.1');for(let n=0;n<b.length;n++)b[n].className+=' cr',b[n].innerHTML='<strong>CR :</strong><br>'+a.regisCourse[m].courseName}if(0===a.regisCourse[m].day.getDay()&&!0===a.regisCourse[m].select){b=document.getElementsByClassName('btn-sun '+a.regisCourse[m].day.getHours()+'.1');for(let n=0;n<b.length;n++)b[n].className+=' cr',b[n].innerHTML='<strong>CR :</strong><br>'+a.regisCourse[m].courseName}}for(let m in a.regisHybrid)if(!1!==a.regisHybrid[m]){a.regisHybrid[m].day=new Date(a.regisHybrid[m].day);var c=['sat','sun','tue','thu'],d=[6,0,2,4];for(let n=0;4>n;n++)if(a.regisHybrid[m].day.getDay()===d[n]){var e=document.getElementsByClassName('btn-'+c[n]+' '+a.regisHybrid[m].day.getHours()+'.1');for(let o=0;o<e.length;o++)e[o].className+=' hb',e[o].innerHTML='<strong>FHB :</strong><br>'+fullHBname(a.regisHybrid[m].subject)}}if('1'==$('#station').val()&&'0'!=$('#skilltime').val()){var f=[8,10,13,15];for(i=0;i<f.length;i++)if(Math.floor(parseInt($('#skilltime').val())/10)==f[i]||Math.floor(parseInt($('#skilltime').val())/10)-1==f[i]){var g=document.getElementsByClassName('btn-'+$('#skillday').val()+' '+f[i]+'.1');for(let m=0;m<g.length;m++)if(-1!=g[m].className.indexOf('sk')){if(parseInt($('#skilltimeEng option:selected').val())<=parseInt($('#skilltime option:selected').val()))var h=$('#skilltimeEng option:selected').text().split('-')[0];else var h=$('#skilltime option:selected').text().split('-')[0];g[m].innerHTM='<strong>SKILL :</strong><br>'+h+' \u0E19.'}else g[m].className+=' sk',g[m].innerHTML='<strong>SKILL :</strong><br>'+$('#skilltime option:selected').text().split('-')[0]+' \u0E19.'}}if('1'==$('#stationEng').val()&&'0'!=$('#skilltimeEng').val()){var f=[8,10,13,15];for(i=0;i<f.length;i++)if(Math.floor(parseInt($('#skilltimeEng').val())/10)==f[i]||Math.floor(parseInt($('#skilltimeEng').val())/10)-1==f[i]){var l=document.getElementsByClassName('btn-'+$('#skilldayEng').val()+' '+f[i]+'.1');for(let m=0;m<e.length;m++)if(-1!=l[m].className.indexOf('sk')){if(parseInt($('#skilltimeEng option:selected').val())<=parseInt($('#skilltime option:selected').val()))var h=$('#skilltimeEng option:selected').text().split('-')[0];else var h=$('#skilltime option:selected').text().split('-')[0];l[m].innerHTML='<strong>SKILL :</strong><br>'+h+' \u0E19.'}else l[m].className+=' sk',l[m].innerHTML='<strong>SKILL :</strong><br>'+$('#skilltimeEng option:selected').text().split('-')[0]+' \u0E19.'}}}function back(){self.location='registrationSkill'}function next(){var a=getCookieDict();if(('0'!=$('#skilltime').val()||'2'==$('#station').val()||'3'==a.skillSel)&&('0'!=$('#skilltimeEng').val()||'2'==$('#stationEng').val()||'2'==a.skillSel)){var b={};b.M={station:$('#station').val(),day:$('#skillday').val(),time:$('#skilltime').val()},b.E={station:$('#stationEng').val(),day:$('#skilldayEng').val(),time:$('#skilltimeEng').val()},writeCookie('regisSkill',JSON.stringify(b)),self.location='submit'}else('1'==a.skillSel||'2'==a.skillSel)&&'1'==$('#station').val()&&'0'==$('#skilltime').val()?alert('\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E27\u0E25\u0E32\u0E40\u0E23\u0E35\u0E22\u0E19\u0E2A\u0E01\u0E34\u0E25\u0E40\u0E25\u0E02'):('1'==a.skillSel||'3'==a.skillSel)&&'1'==$('#stationEng').val()&&alert('\u0E01\u0E23\u0E38\u0E13\u0E32\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E40\u0E27\u0E25\u0E32\u0E40\u0E23\u0E35\u0E22\u0E19\u0E2A\u0E01\u0E34\u0E25\u0E2D\u0E31\u0E07\u0E01\u0E24\u0E29')}