$(document).ready(function(){genTable(),updateTable();var b=getCookieDict();switch(b.regisCourse=JSON.parse(b.regisCourse),b.regisHybrid=JSON.parse(b.regisHybrid),parseInt(b.skillSel)){case 1:$('#math,#eng').show();break;case 2:$('#math').show(),$('#eng').hide(),$('#skilltimeEng').val('0');break;case 3:$('#math').hide(),$('#eng').show(),$('#skilltime').val('0');break;case 4:$('#math,#eng').hide(),$('#skilltimeEng').val('0'),$('#skilltime').val('0');}var c='';for(let g in b.regisCourse)if(!1!==b.regisCourse[g]&&(b.regisCourse[g].day=new Date(b.regisCourse[g].day),99000===b.regisCourse[g].tutor[0]&&(b.regisCourse[g].courseName+='(HB)'),b.regisCourse[g].select&&(c+=numtoDay(b.regisCourse[g].day.getDay())+' '+b.regisCourse[g].day.getHours()+'.00-'+(b.regisCourse[g].day.getHours()+2)+'.00 \u0E19. : '+b.regisCourse[g].courseName+'<br>'),6===b.regisCourse[g].day.getDay()&&!0===b.regisCourse[g].select)){var d=b.regisCourse[g].day.getHours();for(j=-1;4>j;j++){var e=10*d+5*j;$('#skilltime').find('option[value='+e+']').parent().is('span')||$('#skilltime,#skilltimeEng').find('option[value='+e+']').wrap('<span>')}}$('#cr').html(c);var f='';for(let g in b.regisHybrid)if(!1!==b.regisHybrid[g]&&(b.regisHybrid[g].day=new Date(b.regisHybrid[g].day),f+=numtoDay(b.regisHybrid[g].day.getDay())+' '+b.regisHybrid[g].day.getHours()+'.00-'+(b.regisHybrid[g].day.getHours()+2)+'.00 \u0E19. : '+fullHBname(b.regisHybrid[g].subject)+'<br>',6===b.regisHybrid[g].day.getDay())){var d=b.regisHybrid[g].day.getHours();for(j=-1;4>j;j++){var e=10*d+5*j;$('#skilltime').find('option[value='+e+']').parent().is('span')||$('#skilltime,#skilltimeEng').find('option[value='+e+']').wrap('<span>')}}$('#hb').html(f),$('#skillday').change(function(){var g=['90','95','100','105','110','130','135','140','145','150'];for(let m=0;m<g.length;m++)$('#skilltime').find('option[value='+g[m]+']').parent().is('span')&&$('#skilltime').find('option[value='+g[m]+']').unwrap();var h=getCookieDict();for(let m in h.regisCourse=JSON.parse(h.regisCourse),h.regisHybrid=JSON.parse(h.regisHybrid),h.regisCourse)if(!1!==h.regisCourse[m]&&(h.regisCourse[m].day=new Date(h.regisCourse[m].day),h.regisCourse[m].day.getDay()===daytoNum($('#skillday').val())&&!0===h.regisCourse[m].select)){var g=h.regisCourse[m].day.getHours();for(let n=-1;4>n;n++){var l=10*g+5*n;$('#skilltime').find('option[value='+l+']').parent().is('span')||$('#skilltime').find('option[value='+l+']').wrap('<span>')}}for(let m in h.regisHybrid)if(!1!==h.regisHybrid[m]&&(h.regisHybrid[m].day=new Date(h.regisHybrid[m].day),h.regisHybrid[m].day.getDay()===daytoNum($('#skillday').val()))){var g=h.regisHybrid[m].day.getHours();for(let n=-1;4>n;n++){var l=10*g+5*n;$('#skilltime').find('option[value='+l+']').parent().is('span')||$('#skilltime').find('option[value='+l+']').wrap('<span>')}}}),$('#skilldayEng').change(function(){var g=['90','95','100','105','110','130','135','140','145','150'];for(let m=0;m<g.length;m++)$('#skilltimeEng').find('option[value='+g[m]+']').parent().is('span')&&$('#skilltimeEng').find('option[value='+g[m]+']').unwrap();var h=getCookieDict();for(let m in h.regisCourse=JSON.parse(h.regisCourse),h.regisHybrid=JSON.parse(h.regisHybrid),h.regisCourse)if(!1!==h.regisCourse[m]&&(h.regisCourse[m].day=new Date(h.regisCourse[m].day),h.regisCourse[m].day.getDay()===daytoNum($('#skilldayEng').val())&&!0===h.regisCourse[m].select)){var g=h.regisCourse[m].day.getHours();for(let n=-1;4>n;n++){var l=10*g+5*n;$('#skilltimeEng').find('option[value='+l+']').parent().is('span')||$('#skilltimeEng').find('option[value='+l+']').wrap('<span>')}}for(let m in h.regisHybrid)if(!1!==h.regisHybrid[m]&&(h.regisHybrid[m].day=new Date(h.regisHybrid[m].day),h.regisHybrid[m].day.getDay()===daytoNum($('#skilldayEng').val()))){var g=h.regisHybrid[m].day.getHours();for(let n=-1;4>n;n++){var l=10*g+5*n;$('#skilltimeEng').find('option[value='+l+']').parent().is('span')||$('#skilltimeEng').find('option[value='+l+']').wrap('<span>')}}}),$('#station').change(function(){genTable(),updateTable(),'2'===$(this).val()?($('#skilltime').val('0'),document.getElementById('skillday').disabled=!0,document.getElementById('skillday').style='visibility:hidden',document.getElementById('skilltime').disabled=!0,document.getElementById('skilltime').style='visibility:hidden',document.getElementById('skilltime').value='0'):(document.getElementById('skillday').disabled=!1,document.getElementById('skillday').style='',document.getElementById('skilltime').disabled=!1,document.getElementById('skilltime').style='')}),$('#stationEng').change(function(){genTable(),updateTable(),'2'===$(this).val()?($('#skilltime').val('0'),document.getElementById('skilldayEng').disabled=!0,document.getElementById('skilldayEng').style='visibility:hidden',document.getElementById('skilltimeEng').disabled=!0,document.getElementById('skilltimeEng').style='visibility:hidden',document.getElementById('skilltimeEng').value='0'):(document.getElementById('skilldayEng').disabled=!1,document.getElementById('skilldayEng').style='',document.getElementById('skilltimeEng').disabled=!1,document.getElementById('skilltimeEng').style='')}),$('#skilltime,#skilltimeEng,#skillday,#skilldayEng').change(function(){genTable(),updateTable()})});function genTable(){var a=document.getElementsByClassName('disabled');for(let c=0;c<a.length;c++){var b='';for(let d=0;6>d;d++)b+=a[c].className.split(' ')[d]+' ';a[c].className=b,a[c].innerHTML='&nbsp;<br>&nbsp;'}}function updateTable(){var a=getCookieDict();for(let m in a.regisCourse=JSON.parse(a.regisCourse),a.regisHybrid=JSON.parse(a.regisHybrid),a.regisCourse)if(!1!==a.regisCourse[m]){a.regisCourse[m].day=new Date(a.regisCourse[m].day),99000===a.regisCourse[m].tutor[0]&&(a.regisCourse[m].courseName+='(HB)');var b;if(6===a.regisCourse[m].day.getDay()&&!0===a.regisCourse[m].select){b=document.getElementsByClassName('btn-sat '+a.regisCourse[m].day.getHours()+'.1');for(let n=0;n<b.length;n++)b[n].className+=' cr',b[n].innerHTML='<strong>CR :</strong><br>'+a.regisCourse[m].courseName}if(0===a.regisCourse[m].day.getDay()&&!0===a.regisCourse[m].select){b=document.getElementsByClassName('btn-sun '+a.regisCourse[m].day.getHours()+'.1');for(let n=0;n<b.length;n++)b[n].className+=' cr',b[n].innerHTML='<strong>CR :</strong><br>'+a.regisCourse[m].courseName}}for(let m in a.regisHybrid)if(!1!==a.regisHybrid[m]){a.regisHybrid[m].day=new Date(a.regisHybrid[m].day);var c=['sat','sun','tue','thu'],d=[6,0,2,4];for(let n=0;4>n;n++)if(a.regisHybrid[m].day.getDay()===d[n]){var e=document.getElementsByClassName('btn-'+c[n]+' '+a.regisHybrid[m].day.getHours()+'.1');for(let o=0;o<e.length;o++)e[o].className+=' hb',e[o].innerHTML='<strong>FHB :</strong><br>'+fullHBname(a.regisHybrid[m].subject)}}if('1'==$('#station').val()&&'0'!=$('#skilltime').val()){var f=[8,10,13,15];for(i=0;i<f.length;i++)if(Math.floor(parseInt($('#skilltime').val())/10)==f[i]||Math.floor(parseInt($('#skilltime').val())/10)-1==f[i]){var g=document.getElementsByClassName('btn-'+$('#skillday').val()+' '+f[i]+'.1');for(let m=0;m<g.length;m++)if(-1!=g[m].className.indexOf('sk')){if(parseInt($('#skilltimeEng option:selected').val())<=parseInt($('#skilltime option:selected').val()))var h=$('#skilltimeEng option:selected').text().split('-')[0];else if('0'!=$('skilltime').val())var h=$('#skilltime option:selected').text().split('-')[0];else var h=$('#skilltimeEng option:selected').text().split('-')[0];g[m].innerHTM='<strong>SKILL :</strong><br>'+h+' \u0E19.'}else g[m].className+=' sk',g[m].innerHTML='<strong>SKILL :</strong><br>'+$('#skilltime option:selected').text().split('-')[0]+' \u0E19.'}}if('1'==$('#stationEng').val()&&'0'!=$('#skilltimeEng').val()){var f=[8,10,13,15];for(i=0;i<f.length;i++)if(Math.floor(parseInt($('#skilltimeEng').val())/10)==f[i]||Math.floor(parseInt($('#skilltimeEng').val())/10)-1==f[i]){var l=document.getElementsByClassName('btn-'+$('#skilldayEng').val()+' '+f[i]+'.1');for(let m=0;m<l.length;m++)if(-1!=l[m].className.indexOf('sk')){if(parseInt($('#skilltimeEng option:selected').val())<=parseInt($('#skilltime option:selected').val()))var h=$('#skilltimeEng option:selected').text().split('-')[0];else if('0'!=$('skilltime').val())var h=$('#skilltime option:selected').text().split('-')[0];else var h=$('#skilltimeEng option:selected').text().split('-')[0];l[m].innerHTML='<strong>SKILL :</strong><br>'+h+' \u0E19.'}else l[m].className+=' sk',l[m].innerHTML='<strong>SKILL :</strong><br>'+$('#skilltimeEng option:selected').text().split('-')[0]+' \u0E19.'}}}function back(){self.location='registrationSkill'}