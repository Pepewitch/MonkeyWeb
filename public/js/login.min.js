const passwordCheck=(a,b)=>$.post("/post/password",{userID:a,password:b}),positionCheck=a=>$.post("/post/position",{userID:a}),registrationStateCheck=a=>$.post("post/registrationState",{studentID:a});function loginSubmit(){"use strict";let a=document.getElementById("usr"),b=document.getElementById("pwd");0===a.value.length&&(document.getElementById("usrReq").style.visibility="visible",document.getElementById("usrFromGroup").classList.add("has-error")),0!==a.value.length&&(document.getElementById("usrReq").style.visibility="hidden",document.getElementById("usrFromGroup").className="form-group"),0===b.value.length&&(document.getElementById("pwdReq").style.visibility="visible",document.getElementById("pwdFromGroup").classList.add("has-error")),0!==b.value.length&&(document.getElementById("pwdReq").style.visibility="hidden",document.getElementById("pwdFromGroup").className="form-group"),0!==b.value.length&&0!==a.value.length&&login(parseInt(a.value),b.value)}function login(a,b){"use strict";log("Username:"+a+",Password:"+b),log(encrypt(b).toString()),passwordCheck(a,encrypt(b).toString()).then(c=>{c.err?log("[login()] : post/password => "+c.err):(log("[login()] : post/password => "),log(c),c.verified?(writeUserCookie(a,b),redirectLocation(a)):(log("Wrong"),alert("ID and password do not match."),clearInput()))})}function redirectLocation(a){positionCheck(a).then(b=>{if(b.err)log("[redirectLocation()] : post/position => "+b.err);else switch(log("[redirectLocation()] : post/position => "),log(b),b.position){case"student":studentLogin(a);break;case"tutor":case"admin":case"dev":self.location="/adminAllstudent";break;default:}})}function studentLogin(a){registrationStateCheck(a).then(b=>{b.err?log("[studentLogin()] : post/registrationState => "+b.err):(log("[studentLogin()] : post/registrationState => "),log(b),self.location="untransferred"===b.registrationState||"rejected"===b.registrationState?"/registrationReceipt":"/home")})}function clearInput(){"use strict";let a=document.getElementById("pwd");a.value=""}function encrypt(a){"use strict";return CryptoJS.SHA3(a)}function writeUserCookie(a,b){"use strict";writeCookie("monkeyWebUser",a),writeCookie("monkeyWebPassword",encrypt(b).toString())}