var config='';$(document).ready(function(){$.post('post/getConfig').then(a=>{config=a,log(config),showSlide()})});function slideShow(a,b,c){let d=function(f){const g=$('.galleria');for(let h=1;h<f;h++)g.append('<img src=\''+config.studentSlideshowPath.slice(config.studentSlideshowPath.search('MonkeyWebData')+14)+a+h+'.png\'>');Galleria.loadTheme('galleria/themes/'+b+'/galleria.'+b+'.min.js'),Galleria.run(g,{extend:function(){this.setOptions('transition','fade'),c&&this.play(5e3)}})},e=function(f){$.get(config.studentSlideshowPath.slice(config.studentSlideshowPath.search('MonkeyWebData')+14)+a+f+'.png').done(function(){console.log('success'+f),e(f+1)}).fail(function(){console.log('end at '+f),d(f)})};e(1)}function uploadSlide(){$('#uploadModal').modal()}function showSlide(){$('body').dblclick(function(){writeCookie('slideType','nclassic'),location.reload()});let a=getCookieDict();if(a.slideType!==void 0){let b=a.slideType,c=b.slice(0,1),d=b.slice(1);slideShow(c,d,!0)}else writeCookie('slideType','nclassic'),location.reload()}function portrait(){writeCookie('slideType','pclassic'),location.reload()}function landscape(){writeCookie('slideType','lclassic'),location.reload()}function news(){writeCookie('slideType','nclassic'),location.reload()}function full(){writeCookie('slideType','nfullscreen'),location.reload()}function upNews(){let a=$('#file-1'),b=a.val().split('.').pop().toLowerCase();if(-1===$.inArray(b,['png','jpg','jpeg']))alert('\u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E31\u0E1E\u0E44\u0E1F\u0E25\u0E4C .jpg, .jpeg \u0E2B\u0E23\u0E37\u0E2D .png \u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19');else{let c=a.get(0).files;if(0<c.length){let d=new FormData;for(let f,e=0;e<c.length;e++)f=c[e],d.append('file[]',f,f.name);$.ajax({url:'post/updateStudentSlideshow',type:'POST',data:d,processData:!1,contentType:!1,success:function(){$('#uploadModal').modal('hide')}})}}}